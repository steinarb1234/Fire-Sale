{% extends 'base.html' %}
{% block content %}
    <h1>List of all categories</h1>
    <!-- PLEASE REDO THIS CODE PROPERLY IN VIEWS/SERVICE CLASSES -->
    <ul>
        {% for category in categories %}
            {% if not category.parent_id %}
                <li><a href="/{{ category.name }}">{{ category.name }}</a></li>
                {% for subcategory in categories %}
                    <ul>
                    {% if subcategory.parent == category %}
                        <li><a href="{{ subcategory.name }}">{{ subcategory.name }}</a></li>
                        {% for subsubcategory in categories %}
                            <ul>
                            {% if subsubcategory.parent == subcategory %}
                                <li><a href="{{ subsubcategory.name }}">{{ subsubcategory.name }}</a></li>
                            {% endif %}
                            </ul>
                        {% endfor %}
                    {% endif %}
                    </ul>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </ul>
{% endblock %}
